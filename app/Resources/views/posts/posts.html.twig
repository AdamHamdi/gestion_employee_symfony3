{% extends 'base.html.twig' %} {% block title %}Gestion Employee {% endblock %} {% block body %}
<div class="col-sm-10 podt mx-auto mt-5">
    
        <h1 class="card-header ">La liste des Posts <a href="{{ path('post.new') }}" class=" float-right btn  btn-success"> +Nouveau</a></h1>
        <div class="card-body ">
            <table class="table table-bordered">
                <thead class="thead-dark">
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Title</th>
                        <th scope="col">Description</th>
                        <th scope="col">Actions</th>
                    </tr>
                </thead>
                <tbody id="myTable">
                    {% for post in posts %}
                    <tr>
                        <th scope="row">{{ post.id}}</th>
                        <td>{{ post.title}}</td>
                        <td>{{ post.description}}</td>
                        <td>
                            <form action="{{ path('post.delete',{'id':post.id}) }}" method="post" onsubmit="return confirm('Voulez vous vraiment supprimer ce post ?');">
                                <input type="hidden" name="_method" value="DELETE">
                                <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ post.id) }}">
                                <a href="{{ path( 'post.edit',{ 'id':post.id})}} " class=" btn btn-sm btn-warning ">Modifier</a>
                                <button type="submit" class=" btn btn-sm btn-danger ">Supprimer</button>
                            </form>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>

        </div>
    
</div>{% endblock %}